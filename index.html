<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cuestionario Interactivo - Editor Avanzado</title>

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/codemirror.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/theme/dracula.min.css">
    <link rel="stylesheet" href="estilos.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/codemirror.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/mode/python/python.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/addon/edit/matchbrackets.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/codemirror/5.65.16/addon/edit/closebrackets.min.js"></script>
    <script src="https://cdn.jsdelivr.net/pyodide/v0.26.1/full/pyodide.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>

</head>
<body>
    <div id="top-bar" style="display: flex; justify-content: flex-end; align-items: center; gap: 10px; font-weight: bold; margin-bottom: 20px; color: var(--primary-color);">
        <div id="cronometro" style="font-size: 1.2em;">Tiempo Restante: 1:00:00</div>
        <button id="btn-reiniciar" style="padding: 6px 12px; font-size: 1em; cursor: pointer;">üîÑ Reiniciar</button>
    </div>
    <div class="container">
        <h1>Prueba T√©cnica üöÄ</h1>
        <div id="pyodide-status">‚öôÔ∏è Inicializando Entorno Python (Worker)... Por favor espera.</div>

        <div class="parte">
            <h2>üß© PARTE 1: L√≥gica de Programaci√≥n</h2>

            <div class="pregunta">
                <h3>1.1 Corrige esta funci√≥n para que no sea un bucle infinito:</h3>
                <div class="descripcion">Un bucle infinito es un ciclo que nunca termina porque su condici√≥n de finalizaci√≥n no 
cambia o siempre es verdadera. Puede hacer que el programa se congele o consuma muchos 
recursos.</div>
                <div class="code-editor-area">
                    <textarea id="code-1-1" spellcheck="false">contador = 0
while contador < 5:
    print(contador)
    # Escribe aqu√≠ el c√≥digo que falta</textarea>
                    <button class="run-button" data-code-id="code-1-1">‚ñ∂Ô∏è Ejecutar</button>
                </div>
                <div id="output-1-1" class="output-box">Salida aparecer√° aqu√≠...</div>
            </div>

            <div class="pregunta">
                <h3>1.2 Crea una funci√≥n llamada es_palindromo(palabra: str) que reciba un string texto y devuelva True si es un pal√≠ndromo, o False en caso contrario.<br>
                    Puedes utilizar cualquier funci√≥n o m√©todo disponible en Python, como inversi√≥n de cadenas ([::-1]), .lower(), .replace(), etc.</h3>
                <div class="descripcion">Un pal√≠ndromo es una palabra, n√∫mero o frase que se lee igual de izquierda a derecha que de derecha a izquierda.<br>
                     Ejemplos comunes incluyen "reconocer", "anita lava la tina" y "12321"..</div>
                <div class="code-editor-area">
                    <textarea id="code-1-2" spellcheck="false">def es_palindromo(palabra: str) -> bool:
    # Tu c√≥digo aqu√≠
    pass

# --- Pruebas (No modificar) ---
print(f"'oso' es pal√≠ndromo: {es_palindromo('oso')}")
print(f"'casa' es pal√≠ndromo: {es_palindromo('casa')}")
print(f"'Ana' es pal√≠ndromo: {es_palindromo('Ana')}")
print(f"'Luz azul' es pal√≠ndromo: {es_palindromo('Luz azul')}")</textarea>
                    <button class="run-button" data-code-id="code-1-2">‚ñ∂Ô∏è Ejecutar</button>
                </div>
                <div id="output-1-2" class="output-box">Salida aparecer√° aqu√≠...</div>
            </div>

            <div class="pregunta">
                <h3>1.3 Crea una funci√≥n en Python que reciba una lista de n√∫meros enteros y retorne una nueva lista que contenga solo los n√∫meros pares.</h3>
                <div class="descripcion">Un n√∫mero par es aquel que al dividirse entre 2 no deja residuo (es decir, n % 2 == 0).<br>
La funci√≥n debe recorrer la lista y filtrar todos los n√∫meros que cumplan con esta condici√≥n.<br>
Puedes usar cualquier estructura o funci√≥n de Python que consideres √∫til.</div>
                <div class="code-editor-area">
                    <textarea id="code-1-3" spellcheck="false">def filtrar_pares(lista: list[int]) -> list[int]:
    # Tu c√≥digo aqu√≠
    pass

# --- Pruebas (No modificar) ---
numeros = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]
print(f"Pares en {numeros}: {filtrar_pares(numeros)}")</textarea>
                    <button class="run-button" data-code-id="code-1-3">‚ñ∂Ô∏è Ejecutar</button>
                </div>
                <div id="output-1-3" class="output-box">Salida aparecer√° aqu√≠...</div>
            </div>

        </div>

        <div class="parte">
            <h2>üõ† PARTE 2: Correcci√≥n de Errores</h2>

            <div class="pregunta">
                <h3>2.1 Corrige la funci√≥n contar_vocales para que tambi√©n cuente vocales acentuadas (√°, √©, √≠, √≥, √∫).<br>
Aseg√∫rate de que funcione correctamente al usarla con la palabra "Universo".</h3>
                <div class="descripcion">Actualmente, la funci√≥n solo cuenta las vocales sin tilde: a, e, i, o, u.<br>
Sin embargo, en espa√±ol tambi√©n usamos vocales acentuadas (√°, √©, √≠, √≥, √∫), que deben ser consideradas como vocales v√°lidas.<br>
Modifica el c√≥digo para incluir estas vocales y prueba que funcione con la palabra "Universo", la cual no tiene vocales acentuadas, por lo que deber√≠a retornar 4.</div>
                <div class="code-editor-area">
                    <textarea id="code-2-1" spellcheck="false">    
def contar_vocales(palabra):
    contador = 0
    for letra in palabra:
        if letra in ['a', 'e', 'i', 'o', 'u']:
            contador += 1
    return contador

# --- Pruebas (No modificar) ---
print(f"'Universo': {contar_vocales('Universo')}")
print(f"'Programaci√≥n': {contar_vocales('Programaci√≥n')}")</textarea>
                    <button class="run-button" data-code-id="code-2-1">‚ñ∂Ô∏è Ejecutar</button>
                </div>
                <div id="output-2-1" class="output-box">Salida aparecer√° aqu√≠...</div>
            </div>

            <div class="pregunta">
                <h3>2.2 El siguiente c√≥digo imprime el nombre de cada persona de una lista, pero est√° mal estructurado porque repite instrucciones de forma innecesaria.<br>
                     Refact√≥ralo para que use un bucle for o while y haga lo mismo de forma m√°s clara y eficiente.</h3>
                <div class="descripcion">Actualmente, la funci√≥n asume que el valor m√°ximo inicial es 0. Esto provoca un error l√≥gico cuando todos 
                    los elementos de la lista son negativos, ya que 0 no est√° en la lista y se devuelve incorrectamente como m√°ximo.<br>
Debes modificar el c√≥digo para que funcione con listas que contienen solo n√∫meros negativos, positivos o una combinaci√≥n de ambos.</div>
                <div class="code-editor-area">
                    <textarea id="code-2-2" spellcheck="false">def maximo(lista):
    max = 0
    for num in lista:
        if num > max:
            max = num
    return max

# --- Pruebas (No modificar) ---
print(f"[1, 5, 2]: {maximo([1, 5, 2])}")
print(f"[-1, -5, -2]: {maximo([-1, -5, -2])}")</textarea>
                    <button class="run-button" data-code-id="code-2-2">‚ñ∂Ô∏è Ejecutar</button>
                </div>
                <div id="output-2-2" class="output-box">Salida aparecer√° aqu√≠...</div>
            </div>
        </div>
        
        <div class="parte">
            <h2>üîÅ PARTE 3: Refactorizaci√≥n</h2>
            <div class="pregunta">
                <h3>3.1 Tienes una funci√≥n que imprime todos los n√∫meros pares de una lista y luego cuenta cu√°ntos pares hay.<br>
Tu tarea es reescribir esta funci√≥n para que realice ambas tareas de forma m√°s eficiente y clara, usando un solo recorrido de la lista.</h3>
                <div class="descripcion">Actualmente, la funci√≥n realiza dos procesos separados para imprimir y contar los n√∫meros pares.<br>
                     Optimiza el c√≥digo para que ambas tareas se ejecuten en un solo paso, sin alterar el resultado final.</div>
                <div class="code-editor-area">
                    <textarea id="code-3-1" spellcheck="false">def imprimir_y_contar_pares(numeros):
    contador = 0
    for n in numeros:
        if n % 2 == 0:
            print(n)
    
    for n in numeros:
        if n % 2 == 0:
            contador += 1

    return contador

# --- Pruebas (No modificar) ---
print("Prueba 1: [1, 2, 3, 4, 5]")
imprimir_y_contar_pares([1, 2, 3, 4, 5])
print("Prueba 2: [1, 3, 5, 7]")
imprimir_y_contar_pares([1, 3, 5, 7])
print("Prueba 3: [2, 4, 8, 10]")
imprimir_y_contar_pares([2, 4, 8, 10])</textarea>
                    <button class="run-button" data-code-id="code-3-1">‚ñ∂Ô∏è Ejecutar</button>
                </div>
                <div id="output-3-1" class="output-box">Salida aparecer√° aqu√≠...</div>
            </div>
        </div>
    <div class="parte">
        <h2>üóÑ PARTE 4: Bases de Datos (15 minutos)</h2>
        <div class="pregunta">
            <h3>4.1 Preguntas abiertas</h3>
            <p>- ¬øQu√© es una base de datos y para qu√© sirve?</p>
            <textarea class="text-input" placeholder="Tu respuesta aqu√≠..."></textarea>
            <p>- ¬øQu√© es una tabla y c√≥mo se relaciona con una base de datos?</p>
            <textarea class="text-input" placeholder="Tu respuesta aqu√≠..."></textarea>
            <p>- Menciona y explica brevemente 3 m√©todos comunes para interactuar con bases de datos en Python.</p>
            <textarea class="text-input" placeholder="Tu respuesta aqu√≠..."></textarea>
        </div>
        <div class="pregunta">
            <h3>4.2 Librer√≠as comunes en Python</h3>
            <p>Escribe qu√© hace cada una:</p>
            <table>
                <thead>
                    <tr>
                        <th>Librer√≠a</th>
                        <th>¬øQu√© hace?</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>pymysql</td>
                        <td><input type="text" style="width: 98%;"></td>
                    </tr>
                    <tr>
                        <td>pandas</td>
                        <td><input type="text" style="width: 98%;"></td>
                    </tr>
                    <tr>
                        <td>numpy</td>
                        <td><input type="text" style="width: 98%;"></td>
                    </tr>
                    <tr>
                        <td>cv2</td>
                        <td><input type="text" style="width: 98%;"></td>
                    </tr>
                    <tr>
                        <td>tkinter</td>
                        <td><input type="text" style="width: 98%;"></td>
                    </tr>
                    <tr>
                        <td>requests</td>
                        <td><input type="text" style="width: 98%;"></td>
                    </tr>
                     <tr>
                        <td>selenium</td>
                        <td><input type="text" style="width: 98%;"></td>
                    </tr>
                     <tr>
                        <td>time</td>
                        <td><input type="text" style="width: 98%;"></td>
                    </tr>
                     <tr>
                        <td>PIL (Pillow)</td>
                        <td><input type="text" style="width: 98%;"></td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    <div class="parte">
        <h2>‚ùì PARTE 5: Opci√≥n M√∫ltiple (15 preguntas)</h2>
        <p>Marca una o varias respuestas correctas.</p>
        <div class="pregunta opcion-multiple">
            <p>1. ¬øCu√°l sentencia elimina filas de una tabla?</p>
            <label><input type="checkbox" name="q1" value="a"> a) SELECT</label>
            <label><input type="checkbox" name="q1" value="b"> b) DELETE</label>
            <label><input type="checkbox" name="q1" value="c"> c) INSERT</label>
            <label><input type="checkbox" name="q1" value="d"> d) DROP</label>
        </div>
        <div class="pregunta opcion-multiple">
            <p>2. ¬øCu√°l es el prop√≥sito de una clave primaria?</p>
            <label><input type="checkbox" name="q2" value="a"> a) Identificar un√≠vocamente cada fila</label>
            <label><input type="checkbox" name="q2" value="b"> b) Almacenar contrase√±as</label>
            <label><input type="checkbox" name="q2" value="c"> c) Definir el orden</label>
            <label><input type="checkbox" name="q2" value="d"> d) Ninguna</label>
        </div>
         <div class="pregunta opcion-multiple">
            <p>3. ¬øCu√°l librer√≠a se usa para trabajar con im√°genes en Python?</p>
            <label><input type="checkbox" name="q3" value="a"> a) cv2</label>
            <label><input type="checkbox" name="q3" value="b"> b) psycopg2</label>
            <label><input type="checkbox" name="q3" value="c"> c) sqlite3</label>
            <label><input type="checkbox" name="q3" value="d"> d) time</label>
        </div>
         <div class="pregunta opcion-multiple">
            <p>4. ¬øCu√°l de las siguientes es una librer√≠a para pruebas de interfaz en navegador?</p>
            <label><input type="checkbox" name="q4" value="a"> a) requests</label>
            <label><input type="checkbox" name="q4" value="b"> b) selenium</label>
            <label><input type="checkbox" name="q4" value="c"> c) tkinter</label>
            <label><input type="checkbox" name="q4" value="d"> d) numpy</label>
        </div>
         <div class="pregunta opcion-multiple">
            <p>5. ¬øQu√© sentencia crea una nueva tabla en SQL?</p>
            <label><input type="checkbox" name="q5" value="a"> a) CREATE</label>
            <label><input type="checkbox" name="q5" value="b"> b) ALTER</label>
            <label><input type="checkbox" name="q5" value="c"> c) INSERT</label>
            <label><input type="checkbox" name="q5" value="d"> d) DROP</label>
        </div>
    </div>

    <div class="parte">
        <h2>‚úÖ PARTE 6: Verdadero o Falso (10 preguntas)</h2>
        <p>Escribe V o F seg√∫n corresponda</p>
        <div class="pregunta verdadero-falso">
            <label><input type="text" class="tf-input"> SQL es un lenguaje para gestionar bases de datos.</label>
            <label><input type="text" class="tf-input"> Una consulta SELECT elimina registros.</label>
            <label><input type="text" class="tf-input"> Python permite trabajar con clases.</label>
            <label><input type="text" class="tf-input"> numpy permite manipular im√°genes.</label>
            <label><input type="text" class="tf-input"> Las listas en Python son mutables.</label>
            <label><input type="text" class="tf-input"> time.sleep() sirve para acelerar un programa.</label>
            <label><input type="text" class="tf-input"> Las funciones en Python se definen con function.</label>
            <label><input type="text" class="tf-input"> Las bases de datos relacionales usan tablas.</label>
            <label><input type="text" class="tf-input"> tkinter sirve para crear interfaces gr√°ficas.</label>
            <label><input type="text" class="tf-input"> DROP elimina completamente una tabla.</label>
        </div>
    </div>

    <div class="parte">
        <h2>üìò PARTE 7: Teor√≠a General</h2>
        <div class="pregunta">
            <p>¬øQu√© es un diccionario en Python?</p>
            <textarea class="text-input" placeholder="Tu respuesta aqu√≠..."></textarea>
        </div>
         <div class="pregunta">
            <p>¬øQu√© es una clase?</p>
            <textarea class="text-input" placeholder="Tu respuesta aqu√≠..."></textarea>
        </div>
         <div class="pregunta">
            <p>¬øQu√© es una funci√≥n?</p>
            <textarea class="text-input" placeholder="Tu respuesta aqu√≠..."></textarea>
        </div>
         <div class="pregunta">
            <p>Explica qu√© es POO (Programaci√≥n Orientada a Objetos).</p>
            <textarea class="text-input" placeholder="Tu respuesta aqu√≠..."></textarea>
        </div>
         <div class="pregunta">
            <p>¬øQu√© es una API y para qu√© sirve?</p>
            <textarea class="text-input" placeholder="Tu respuesta aqu√≠..."></textarea>
        </div>
         <div class="pregunta">
            <p>¬øQu√© es una excepci√≥n en Python?</p>
            <textarea class="text-input" placeholder="Tu respuesta aqu√≠..."></textarea>
        </div>
    </div>
    <div class="parte">
        <h2>üìÑ PARTE 8: Excel (5 preguntas)</h2>
         <div class="pregunta">
            <p>¬øQu√© f√≥rmula se usa para sumar un rango?</p>
            <textarea class="text-input" placeholder="Tu respuesta aqu√≠..."></textarea>
        </div>
         <div class="pregunta">
            <p>¬øQu√© hace =SI(A1>10, "Alto", "Bajo")?</p>
            <textarea class="text-input" placeholder="Tu respuesta aqu√≠..."></textarea>
        </div>
        <div class="pregunta">
            <p>¬øQu√© funci√≥n devuelve el n√∫mero m√°s alto de un rango?</p>
            <textarea class="text-input" placeholder="Tu respuesta aqu√≠..."></textarea>
        </div>
        <div class="pregunta">
            <p>¬øQu√© f√≥rmula se usa para contar celdas no vac√≠as?</p>
            <textarea class="text-input" placeholder="Tu respuesta aqu√≠..."></textarea>
        </div>
        <div class="pregunta">
            <p>¬øQu√© diferencia hay entre $A$1 y A1?</p>
            <textarea class="text-input" placeholder="Tu respuesta aqu√≠..."></textarea>
        </div>
    </div>

        <div class="parte" style="text-align: center; background-color: transparent; border: none;">
            <button type="submit" class="submit-button">Descargar Respuestas</button>
        </div>
    </div>
    <script src="protecciones.js"></script>
    <script src="cronometro.js"></script>
    <script src="editor-ejecucion.js"></script>
    <script src="descargar_pdf.js"></script>
</body>
</html>